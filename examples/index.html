<head>
    <link rel="stylesheet" type="text/css" href="styles/circles.css">
    <script src="../bower_components/jquery/dist/jquery.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/d3/3.4.8/d3.min.js"></script>
    <script src="../bower_components/underscore/underscore.js"></script>
    <script src="../bower_components/angular/angular.js"></script>
    <script src="../bower_components/angular-route/angular-route.js"></script>
    <script src="../bower_components/q/q.js"></script>
    <script src='../lol.js'></script>
    <script src='../magic.circles.js'></script>


    <script src="app.js"></script>

    <!-- include-controllers -->
    <script src="Casting/Casting.js"></script>
    <script src="FillStroke/FillStroke.js"></script>
    <script src="Interactivity/Interactivity.js"></script>
    <script src="Repeating/Repeating.js"></script>
    <script src="Styling/Styling.js"></script>
    <script src="Gallery/Gallery.js"></script>
    <script src="Home/Home.js"></script>
    <!-- end-include-controllers -->
    <link href='http://fonts.googleapis.com/css?family=Lobster|Shadows+Into+Light|Bree+Serif&subset=latin,cyrillic-ext,cyrillic,latin-ext' rel='stylesheet' type='text/css'>




</head>

<body ng-app="MagicCirclesDemo">
    <wrapper>
    <!-- <a href="#home"><h1>Magic Circles</h1></a> -->
    <!-- <h2>The world's    awesomest, most useless library.</h2> -->
    <div class="header">
        <div id='logo-main'>
            <a href="#home">
                <div class='banner'>Magic Circles</div>
            </a>
        </div>
        <div id='menu'>
            <div class='banner'>Menu</div>
            <!-- <ul>
                <li>
                    <a href="#casting">Free Casting Circles</a>
                </li>
                <li>
                    <a href="#interactivity">Interactivity</a>
                </li>
                <li>
                    <a href="#styling">Adding Styles</a>
                </li>
                <li>
                    <a href="#fillStroke">Advanced Styling</a>
                </li>
                <li>
                    <a href="#repeating">Creating Repeating Patterns</a>
                </li>
                <li>
                    <a href="#gallery">Circle Gallery</a>
                </li>
            </ul> -->
        </div>
    </div>

    <div class="container" ng-view>
    </div>
</wrapper>
</body>

<script>
var logo = new MagicCircle("#logo-main");
logo.cast()
    .ring(35)
    .color("#1e3a5a")
    .backspace(35)
    .circleRing(16, 8)
    .color("white")
    .ring(2)
    .color("#565656")
    .circleRing(16, 10)
    .color("white")
    .ring(3)
    .color("#565656")

var menu = new MagicCircle("#menu");

function showMenuButton() {
    menu.cast()
        .ring(25)
        .color("#1e3a5a")
        .backspace(35)
        .circleRing(15, 10)
        .color("white")
        .ring(2)
        .color("#565656")
        .circleRing(8, 5)
        .color("white")
        .ring(2)
        .color("#565656")
}

var canshowmenu = true;
function forceMenuHide() {
    menu.disperse();
    showMenuButton();
    canshowmenu = false;
    window.scrollTo(0,0);


    $('#menu').css("pointer-events", "none");
    setTimeout(function() {
        canshowmenu = true;
        $('#menu').css("pointer-events", "auto");
    }, 1500)
}


var options = [{
    name: "Casting",
    link: "casting",
    color: "#737373",
}, {
    name: "Styling",
    link: "styling",
    color: "#5e5e5e",
},{
    name: "Fill",
    link: "fillStroke",
    color: "#24466d",
},{
    name: "Patterns",
    link: "repeating",
    color: "#1a324d",
},{
    name: "Interactivity",
    link: "interactivity",
    color: "#0f1d2d",
},{
    name: "Gallery",
    link: "gallery",
    color: "#05080d",
}]

    function showMenu() {
        menu.cast()
            .circleRing(32,25,3)
        _.each(options,function(option){
            console.log('casting option');

            menu.cast()
                .ring(16)
                .color(option.color)
                .backspace(16);
            var text = menu.cast()
                .text(16, option.name, 1)
                .color('white')
                .getLast();
            menu.cast()
                .backspace(16)
                .ring(16)
                .color('useNone')
                .on('click', function(a) {
                    console.log("clicked the ring");
                    window.location.hash = option.link;
                    forceMenuHide();
                })
                .on('mouseover',function(e){
                    text.rotation(-25);
                })
                .on('mouseout',function(e){
                    text.animate();
                })
            // .backspace(16)
        })
    }

$('#menu').on("mouseenter", function(e) {
    menu.disperse();
    showMenu();
})

$('#menu').on("mouseleave", function(e) {
    menu.disperse();
    showMenuButton();
})
showMenuButton();
</script>
